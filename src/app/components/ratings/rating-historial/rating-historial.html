<div class="container py-4">
  <h2 class="mb-4 fw-bold text-primary">Historial de tus Opiniones</h2>

  @if(ratings.length === 0) {
  <div class="alert alert-info d-flex align-items-center gap-2">
    <i class="bi bi-info-circle-fill fs-5"></i>
    <span class="fw-semibold">AÃºn no has dejado opiniones en actividades.</span>
  </div>
  } @for(r of ratings; track r.id) {
  <div class="card mb-3 shadow rounded-3 p-3">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h4 class="mb-1">{{ r.activity?.title || 'Actividad desconocida' }}</h4>
        <small class="text-muted">{{ r.date | date : 'mediumDate' }}</small>
      </div>

      <div class="text-warning fs-5">
        @for (s of [1,2,3,4,5]; track s) {
        <i class="bi" [ngClass]="s <= r.stars ? 'bi-star-fill' : 'bi-star text-muted'"></i>
        }
      </div>
    </div>

    @if(r.comment) {
    <p class="mt-2">{{ r.comment }}</p>
    }

    <div class="activity-actions d-flex justify-content-end">
      <button type="button" class="btn btn-primary" (click)="view(r.activity?.id!)">
        <i class="bi bi-eye me-2"></i> Ver
      </button>
    </div>
  </div>
  }
</div>
